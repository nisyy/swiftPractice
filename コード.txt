//Optionalå‹
var a: String?
a = "hello"   
print(a)
//ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’æ“ä½œã™ã‚‹ã«ã¯ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
// var int1: Int = 1
// var int2: Int? = 2
// var result = int1 + int2
//Optional Binding
var c: Int?

// Optionalå‹ã‹ã‚‰ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ã™ã‚‹
if let b = c {
  print(b)
} else {
  print("å€¤ã¯ã‚ã‚Šã¾ã›ã‚“")
}

//guard num ãŒnilã®ã¨ãã¯falseåˆ¤å®šã«ãªã‚Šã€returnã™ã‚‹ï¼Œå€¤ãŒã‚ã‚‹å ´åˆã¯ã€ãã®ã¾ã¾å‡¦ç†ãŒç¶šè¡Œã•ã‚Œã‚‹
func testGuard(num: Int?) {
    // nilã ã¨returnã™ã‚‹ 
    guard let unwrappedNum = num else { return }
    print(unwrappedNum)
}
testGuard(num: 5) 

//??æ¼”ç®—å­ å€¤ãŒã‚ã£ãŸå ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã‚‹ã€‚
var e : Int?
var f = e ?? 3
print(f)

//!æ¼”ç®—å­ã§å¼·åˆ¶ã‚¢ãƒ³ãƒ©ãƒƒãƒ—  å€¤ã®å­˜åœ¨ãŒæ˜ã‚‰ã‹ãªå ´åˆã‚„å€¤ãŒãªã„ã¨ãã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚äº†ã•ã›ãŸã„å ´åˆã®ã¿ä½¿ç”¨
var g: Int? = 1
var h = g! + 1
print(h)

//æš—é»™çš„ã«ã‚¢ãƒ³ãƒ©ãƒƒãƒ—  nilã§ã‚ã£ãŸå ´åˆã¯åŒæ§˜ã«å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹
var i: Int! = 10
var j = i + 10 
print(j)
//Optional Chaining
var k: Int? = 10
if let l = k?.distance(to: 1) {
  print(l) 
}

//Null Safetyè¨€èªã®ãŸã‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
//var m: String?
//var n = m.uppercased()


//æ¡ä»¶å¼
let a = 1
let b = 1
if a != b {
  print("å®Ÿè¡Œã•ã‚Œã¾ã—ãŸ")
} else {
  print("elseç¯€ãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸ")
}

//switchæ–‡
let c = 10
switch c {
case 1..<10:
  print("1ã‹ã‚‰9ã®å€¤ã§ã™")
case 10...100:
  print("10ã‹ã‚‰100ã®å€¤ã§ã™")
default:
  print("ãã‚Œä»¥å¤–ã®å€¤ã§ã™")
}

//enumå‹ã®æŒ‡å®š
enum Animal {
  case Dog, Cat, Rabbit
}
let someAnimal = Animal.Dog
switch someAnimal {
case .Dog:
  print("ğŸ¶")
case .Cat:
  print("ğŸ±")
default:
  print("ãã‚Œä»¥å¤–")
}

//where
let d: Int? = nil
switch d {
case let e? where e > 10:
  print("10ã‚ˆã‚Šå¤§ãã„ã§ã™")
case let e? where e < 10:
  print("10ã‚ˆã‚Šå°ã•ã„ã§ã™")
default:
  print("å€¤ãŒå­˜åœ¨ã—ã¾ã›ã‚“")
}

//break
let f: Int = 1
switch f {
case 0...10:
  print("ã“ã“ã¯å®Ÿè¡Œã•ã‚Œã¾ã™")
  break
  print("ã“ã“ã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“")
default:
  break
}

//guardæ–‡
func test(_ int:Int) {
  guard int > 10 else { 
    return print(int)
  }
}
test(100)
test(1)

//ç¹°ã‚Šè¿”ã—æ–‡
//for-inæ–‡
let num = [1,2,10]
for i in num {
  print(i)
}
let dictionary = ["1":10, "2":20, "3":30, "4":40, "5":50]
for (key,value) in dictionary{
  print("\(key): \(value)")
}

//while
var a: Int = 0
while a < 4 {
  print(a)
  a += 1
  break
}

//continue
for i in 1..<5 {
  if i == 3 {
    continue
  }
  print(i)
}

//defer
func test() {
    defer {
        print("deferæ–‡ãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸ")
    }
    print("Hello")
}

test()


//ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã€€å¤‰æ•°ã‚’ã‚¹ã‚³ãƒ¼ãƒ—å†…ã«é–‰ã˜è¾¼ã‚ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
let sum = { (x: Int, y: Int ) -> Int in
return x * y
} 
print(sum(2,10))

var c :(Int) -> Int
c = {v in
return v * v
}
print(c(2))

var closure: (Int) -> Int
// (x: Int) -> Int ã‚’çœç•¥  äºˆã‚å‹ã‚’æŒ‡å®šã—ã¦ã„ã‚‹å¤‰æ•°ã«ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ä»£å…¥ã™ã‚‹å ´åˆ
closure = { x in 
  return x + 1
}
//é–¢æ•°ã¨é•ã†ã¨ã“ã‚
//å¤–éƒ¨æ©Ÿæ•°åã¯æŒ‡å®šã§ããªã„
//ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã‚’æŒ‡å®šã§ããªã„
//ç°¡ç•¥å¼•æ•°åã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹
var closure2: (Int, Int) -> Int
// 1ç•ªç›®ã®å¼•æ•°ãŒ $0
// 2ç•ªç›®ã®å¼•æ•°ãŒ $1
closure2 = { 
  return $0 + $1
}
let sum2 = closure2(2, 4)
print(sum2)

//ãƒˆãƒ¬ã‚¤ãƒªãƒ³ã‚°ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£  é–¢æ•°ã®å¼•æ•°ã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ () ã®å¤–ã«è¨˜è¿°ã§ãã‚‹è¨˜æ³•
func test(int: Int, int2: Int, callback: (Int) -> Void) {
  callback(int)
  callback(int2)
}
// ãƒˆãƒ¬ã‚¤ãƒªãƒ³ã‚°ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ä½¿ç”¨ã—ã¦å®Ÿè¡Œ
// `callback: { x in print(x) }` ã‚’ `()` ã®å¤–ã«æ›¸ã
test(int: 1, int2: 2) { 
  x in print(x) 
}

//escaping ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’éåŒæœŸå‡¦ç†ã®å¾Œã«å®Ÿè¡Œã—ãŸã„ã¨ãã«ä½¿ç”¨
var handlers: [() -> Void] = []
func addEscaping(escapingHandler: @escaping () -> Void){
  return handlers.append(escapingHandler)
}
addEscaping{
  print("hello, 1")
}
handlers.forEach { $0() }

//ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£å¼ã®ç”¨é€”
let num = [1, 2, 3, 4, 5]
let mapped = num.map({ (n: Int) -> Int in
 return n * 2
})
print(mapped)

let mapped2 = num.map { $0 * 5 }
print(mapped2)


//å‹ã®æ§‹æˆ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
//ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã—ãªã„ã¨ä½¿ç”¨ã§ããªã„ã€‚
class MyClass {
  var var1: Int = 1
  let var2 = "name"
}
let myClass = MyClass()
print(myClass.var1) 
print(myClass.var2) 


//ã‚¿ã‚¤ãƒ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã¯ã§ããªã„ã€‚åˆæœŸå€¤ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
struct Person {
  var name = "Taro"

  // static ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¤ã‘ã‚‹ã€‚
  static var kind = "Human"
}
// ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã—ãªã„ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
print(Person.kind) 

//ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
class Person2 {
  var name = "Taro"

  // class ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ã¤ã‘ã¦ã€ã‚²ãƒƒã‚¿ã‚’å®šç¾©ã™ã‚‹
  class var kind: String {
    get{
    return "Human"
    }
  }
}
print(Person2.kind)
//ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
struct DrinkServer {
  var age = 10

  var drink: String {
    // ã‚²ãƒƒã‚¿ã‚’å®šç¾©
    get {
      if age >= 20 {
        return "Beer"
      }

      return "Orange Juice"
    }

    // ã‚»ãƒƒã‚¿ã‚’å®šç¾©
    set {
      print("setã®å€¤ã§ã™: \(newValue)")
    }
  }
}

var drinkServer = DrinkServer()
let drink = drinkServer.drink 
print(drink)
drinkServer.age = 30
let drink2 = drinkServer.drink 
print(drink2)
drinkServer.drink = "Whisky"


//ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€€é…åˆ—ã‚„è¾æ›¸ãªã©ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãŸã‚ã®è¨˜è¿°
struct Person{
  var pets: [String]
  subscript(index: Int) -> String {
    get{
      return pets[index]
    }
    set{
      pets[index] = newValue
    }
  }
}
var person1 = Person(pets: ["Cat", "Dog", "Rabbit"])
print(person1[0])
person1[1] = "Hamster"
print(person1[1] )

//ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
enum Animal: Int {
  case cat = 1, dog, rabbit, Hamster
  static subscript(n: Int) -> Animal{
    return Animal(rawValue: n)!
  }
}
print(Animal[3])

//ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã€€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆæœŸåŒ–ã•ã›ã‚‹ã“ã¨
//å‹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã®å‰ã«ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã‚’ã™ã‚‹ç†ç”±ã¯ã€ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã§ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã‚’å…¨ã¦æº€ãŸã•ãªã„ã¨ã€å‹ã®æ•´åˆæ€§ãŒã¨ã‚Œãªããªã‚‹ãŸã‚
struct Peron2{
  let name: String
  let age: Int

  init(name: String, age: Int){
    self.name = name
    self.age = age
  }
}
let peson3 = Peron2(name: "taro", age: 3)
print(peson3.name)

//å¤–éƒ¨å¼•æ•°åãŒåˆ©ç”¨ã§ãã‚‹ã€‚
struct Person4 {
  let name: String
  let age: Int

  // name ã«å¯¾ã—ã¦ myName ã‚’æŒ‡å®šã™ã‚‹
  // age ã«å¯¾ã—ã¦ã¯çœç•¥ã•ã›ã‚‹
  init(myName name: String, _ age: Int) {
    self.name = name
    self.age = age
  }
}

let person4 = Person4(myName: "Taro", 20)
print(person4.age)

//ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶å†…ã§ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™
struct Person5 {
  let name: String
  let age: Int

  init(name: String, age: Int) {
    self.name = name
    self.age = age

    // ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œ
    sayName()
  }

  func sayName() {
    print(self.name)
  }
}
let person5 = Person5(name: "jiro", age: 40)
print(person5.age)

struct Person6 {
    let name: String
    init?(_ name: String) {
        // ç©ºã ã£ãŸã‚‰ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã—ãªã„ã§ nil ã‚’è¿”ã™
        if name.isEmpty { return nil }
        self.name = name
    }
}

// ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã«æˆåŠŸã™ã‚‹
let person6 = Person6("Taro") // Optional(main.Person(name: "Taro"))
print(person6!.name)
// å¼•æ•°ãŒç©ºæ–‡å­—ãªã®ã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã«å¤±æ•—ã™ã‚‹
let person7 = Person6("") 